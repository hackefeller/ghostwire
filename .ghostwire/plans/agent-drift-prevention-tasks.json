{
  "tasks": [
    {
      "id": "task-1",
      "subject": "Extend constants.ts with command and skill constants",
      "description": "Add command name constants and skill name constants to src/orchestration/agents/constants.ts. Create VALID_COMMAND_NAMES and VALID_SKILL_NAMES arrays with all values from docs/commands.yml (67 commands) and docs/skills.yml (18 skills). Add type ValidCommandName and ValidSkillName.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "30m",
      "status": "pending",
      "blocks": ["task-2", "task-3", "task-4", "task-7", "task-8"],
      "blockedBy": [],
      "wave": 1
    },
    {
      "id": "task-2",
      "subject": "Create template helper utility",
      "description": "Create src/execution/features/commands/utils/template-helper.ts with commandTemplate tagged template function. Function should validate all agent/category/skill references against constants.ts at build time. Throw descriptive errors if invalid reference found.",
      "category": "ultrabrain",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": ["task-3", "task-7", "task-8"],
      "blockedBy": ["task-1"],
      "wave": 2
    },
    {
      "id": "task-3",
      "subject": "Create build-time validation script",
      "description": "Create script/validate-agent-references.ts that scans templates/ and commands/ directories for agent/category/skill references, validates against constants.ts, and exits with error if invalid. Add to build scripts in package.json.",
      "category": "deep",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": ["task-5"],
      "blockedBy": ["task-1", "task-2"],
      "wave": 3
    },
    {
      "id": "task-4",
      "subject": "Fix agent-validation.test.ts to use constants",
      "description": "Update src/execution/features/commands/agent-validation.test.ts to import VALID_AGENT_IDS, VALID_CATEGORIES, and new command/skill constants from constants.ts. Remove duplicate list. Add validation tests for commands and skills.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "30m",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-1"],
      "wave": 2
    },
    {
      "id": "task-5",
      "subject": "Add pre-commit hook for validation",
      "description": "Add lint-staged or husky to run validate-agent-references.ts on staged files before commit. Configure to check .ts files in src/execution/features/commands/. Add to package.json devDependencies if needed.",
      "category": "deep",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-3"],
      "wave": 4
    },
    {
      "id": "task-6",
      "subject": "Create commands migration batch 1 (templates/*.ts)",
      "description": "Migrate first batch of template files in src/execution/features/commands/templates/ to use constants and commandTemplate helper. Update imports and replace hardcoded strings with constants. Start with: project.ts, refactor.ts, deepen-plan.ts, workflows.ts, code.ts, plan-review.ts, git.ts, util.ts, lint-ruby.ts.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-1", "task-2"],
      "wave": 4
    },
    {
      "id": "task-7",
      "subject": "Create commands migration batch 2 (templates/*.ts)",
      "description": "Migrate second batch of template files in src/execution/features/commands/templates/ to use constants. Continue with: release-docs.ts, resolve-parallel.ts, heal-skill.ts, feature-video.ts, resolve-pr-parallel.ts, docs.ts, stop-continuation.ts, teach-me.ts, xcode-test.ts, deploy-docs.ts, generate-command.ts.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-1", "task-2"],
      "wave": 4
    },
    {
      "id": "task-8",
      "subject": "Create commands migration batch 3 (templates/*.ts)",
      "description": "Migrate remaining template files in src/execution/features/commands/templates/ to use constants. Final batch: changelog.ts, triage.ts, work.loop.ts, quiz-me.ts, sync-tutorials.ts, test-browser.ts, reproduce-bug.ts, resolve-todo-parallel.ts, create-agent-skill.ts, report-bug.ts, lfg.ts.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-1", "task-2"],
      "wave": 4
    },
    {
      "id": "task-9",
      "subject": "Migrate command files to use constants",
      "description": "Update command files in src/execution/features/commands/commands/ to import and use constants from constants.ts. Replace hardcoded subagent_type and category values. There are 44 command files. Can be done in batches or as single task depending on scope.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "2h",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-1"],
      "wave": 5
    },
    {
      "id": "task-10",
      "subject": "Run full validation and fix any issues",
      "description": "Run bun run build and bun test to verify all validation passes. Fix any issues found. Ensure agent-validation.test.ts passes with new constants.",
      "category": "quick",
      "skills": [],
      "estimatedEffort": "30m",
      "status": "pending",
      "blocks": [],
      "blockedBy": ["task-3", "task-4", "task-6", "task-7", "task-8", "task-9"],
      "wave": 6
    }
  ]
}
